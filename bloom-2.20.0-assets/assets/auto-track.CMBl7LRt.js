import{s8 as v}from"./index-B7B3_d_S.js";function b(t){var n=t;return!!(n.ctrlKey||n.shiftKey||n.metaKey||n.button&&n.button==1)}function w(t,n){return!!(t.target==="_blank"&&n)}function g(t,n,e,a){var o=this,f=[];return t?(t instanceof Element?f=[t]:"toArray"in t?f=t.toArray():f=t,f.forEach(function(r){r.addEventListener("click",function(i){var c,u,s=n instanceof Function?n(r):n,l=e instanceof Function?e(r):e,h=r.getAttribute("href")||r.getAttributeNS("http://www.w3.org/1999/xlink","href")||r.getAttribute("xlink:href")||((c=r.getElementsByTagName("a")[0])===null||c===void 0?void 0:c.getAttribute("href")),d=v(o.track(s,l,a??{}),(u=o.settings.timeout)!==null&&u!==void 0?u:500);!w(r,h)&&!b(i)&&h&&(i.preventDefault?i.preventDefault():i.returnValue=!1,d.catch(console.error).then(function(){window.location.href=h}).catch(console.error))},!1)}),this):this}function y(t,n,e,a){var o=this;if(!t)return this;t instanceof HTMLFormElement&&(t=[t]);var f=t;return f.forEach(function(r){if(!(r instanceof Element))throw new TypeError("Must pass HTMLElement to trackForm/trackSubmit.");var i=function(u){var s;u.preventDefault?u.preventDefault():u.returnValue=!1;var l=n instanceof Function?n(r):n,h=e instanceof Function?e(r):e,d=v(o.track(l,h,a??{}),(s=o.settings.timeout)!==null&&s!==void 0?s:500);d.catch(console.error).then(function(){r.submit()}).catch(console.error)},c=window.jQuery||window.Zepto;c?c(r).submit(i):r.addEventListener("submit",i,!1)}),this}export{y as form,g as link};
